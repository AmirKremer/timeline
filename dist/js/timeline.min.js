/**
 * Timeline - a horizontal / vertical timeline component
 * v. 1.1.0
 * Copyright Mike Collins
 * MIT License
 */
"use strict";function timeline(e,f){var v=[],h="Timeline:",t=window.innerWidth,i=void 0,d=0,g={forceVerticalMode:{type:"integer",defaultValue:600},horizontalStartPosition:{type:"string",acceptedValues:["bottom","top"],defaultValue:"top"},mode:{type:"string",acceptedValues:["horizontal","vertical"],defaultValue:"vertical"},moveItems:{type:"integer",defaultValue:1},verticalStartPosition:{type:"string",acceptedValues:["left","right"],defaultValue:"left"},verticalTrigger:{type:"string",defaultValue:{unit:"%",value:"15"}},visibleItems:{type:"integer",defaultValue:3}};function n(e,t,i){t.classList.add(i),e.parentNode.insertBefore(t,e),t.appendChild(e)}function l(e,t){var i=e.getBoundingClientRect(),n=t.unit,l=t.value,a=window.innerHeight||document.documentElement.clientHeight,r=a;return"px"===n?a<=l?(console.warn('The value entered for the setting "verticalTrigger" is larger than the window height. The default value will be used instead.'),r=parseInt(r*((100-g.verticalTrigger.defaultValue.value)/100),10)):r=parseInt(r-l,10):"%"===n&&(r=parseInt(r*((100-l)/100),10)),i.top<=r&&i.left<=(window.innerWidth||document.documentElement.clientWidth)&&0<=i.top+i.height&&0<=i.left+i.width}function m(e){var t="translate3d(-"+e.items[d].offsetLeft+"px, 0, 0)";e.scroller.style.webkitTransform=t,e.scroller.style.msTransform=t,e.scroller.style.transform=t}function a(e){var i,n,l,t,a,r,s,o,c;e.timelineEl.classList.add("timeline--horizontal"),i=e,window.innerWidth>i.settings.forceVerticalMode&&(i.itemWidth=i.wrap.offsetWidth/i.settings.visibleItems,i.items.forEach(function(e){e.style.width=i.itemWidth+"px"}),i.scrollerWidth=i.itemWidth*i.items.length,i.scroller.style.width=i.scrollerWidth+"px",l=n=0,i.items.forEach(function(e,t){e.style.height="auto";var i=e.offsetHeight;t%2==0?l=l<i?i:l:n=n<i?i:n}),i.items.forEach(function(e,t){t%2==0?(e.style.height=l+"px","bottom"===i.settings.horizontalStartPosition?(e.classList.add("timeline__item--bottom"),e.style.transform="translateY("+l+"px)"):e.classList.add("timeline__item--top")):(e.style.height=n+"px","bottom"!==i.settings.horizontalStartPosition?(e.classList.add("timeline__item--bottom"),e.style.transform="translateY("+l+"px)"):e.classList.add("timeline__item--top"))}),i.scroller.style.height=l+n+"px"),m(e),function(e){if(e.items.length>e.settings.visibleItems){var t=document.createElement("button"),i=document.createElement("button"),n=e.items[0].offsetHeight;t.className="timeline-nav-button timeline-nav-button--prev",i.className="timeline-nav-button timeline-nav-button--next",t.textContent="Previous",i.textContent="Next",t.style.top=n+"px",i.style.top=n+"px",0===d?t.disabled=!0:d+1===e.items.length&&(i.disabled=!0),e.timelineEl.appendChild(t),e.timelineEl.appendChild(i)}}(e),function(e){e.timelineEl.querySelector(".timeline-divider")&&e.timelineEl.querySelector(".timeline-divider").remove();var t=e.items[0].offsetHeight,i=document.createElement("span");i.className="timeline-divider",i.style.top=t+"px",e.timelineEl.appendChild(i)}(e),a=(t=e).timelineEl.querySelectorAll(".timeline-nav-button"),r=t.timelineEl.querySelector(".timeline-nav-button--prev"),s=t.timelineEl.querySelector(".timeline-nav-button--next"),o=t.items.length-t.settings.visibleItems,c=parseInt(t.settings.moveItems,10),[].forEach.call(a,function(e){e.addEventListener("click",function(e){e.preventDefault(),0===(d=this.classList.contains("timeline-nav-button--next")?d+=c:d-=c)||d<0?(d=0,r.disabled=!0,s.disabled=!1):d===o||o<d?(d=o,r.disabled=!1,s.disabled=!0):(r.disabled=!1,s.disabled=!1),m(t)})})}function r(){v.forEach(function(e){e.timelineEl.style.opacity=0,e.timelineEl.classList.contains("timeline--loaded")||e.items.forEach(function(e){n(e.querySelector(".timeline__content"),document.createElement("div"),"timeline__content__wrap"),n(e.querySelector(".timeline__content__wrap"),document.createElement("div"),"timeline__item__inner")}),function(e){d=0,e.timelineEl.classList.remove("timeline--horizontal","timeline--mobile"),e.scroller.removeAttribute("style"),e.items.forEach(function(e){e.removeAttribute("style"),e.classList.remove("animated","fadeIn","timeline__item--left","timeline__item--right")});var t=e.timelineEl.querySelectorAll(".timeline-nav-button");[].forEach.call(t,function(e){e.parentNode.removeChild(e)})}(e),window.innerWidth<=e.settings.forceVerticalMode&&e.timelineEl.classList.add("timeline--mobile"),"horizontal"===e.settings.mode&&window.innerWidth>e.settings.forceVerticalMode?a(e):function(i){var n=0;i.items.forEach(function(e,t){e.classList.remove("animated","fadeIn"),!l(e,i.settings.verticalTrigger)&&0<t?e.classList.add("animated"):n=t,t%2==("left"===i.settings.verticalStartPosition?1:0)&&window.innerWidth>i.settings.forceVerticalMode?e.classList.add("timeline__item--right"):e.classList.add("timeline__item--left")});for(var e=0;e<n;e+=1)i.items[e].classList.remove("animated","fadeIn");window.addEventListener("scroll",function(){i.items.forEach(function(e){l(e,i.settings.verticalTrigger)&&e.classList.add("fadeIn")})})}(e),e.timelineEl.classList.add("timeline--loaded"),setTimeout(function(){e.timelineEl.style.opacity=1},500)})}e.length&&[].forEach.call(e,function(e){var t=e.id?"#"+e.id:"."+e.className,i="could not be found as a direct descendant of",n=e.dataset,l=void 0,a=void 0,r=void 0,s={};try{if(!(l=e.querySelector(".timeline__wrap")))throw new Error(h+" .timeline__wrap "+i+" "+t);if(!(a=l.querySelector(".timeline__items")))throw new Error(h+" .timeline__items "+i+" .timeline__wrap");r=[].slice.call(a.children,0)}catch(e){return console.warn(e.message),!1}if(Object.keys(g).forEach(function(e){var t,i;s[e]=g[e].defaultValue,n[e]?s[e]=n[e]:f&&f[e]&&(s[e]=f[e]),"integer"===g[e].type?s[e]&&(t=s[e],i=e,"number"==typeof t||t%1==0||(console.warn(h+' The value "'+t+'" entered for the setting "'+i+'" is not an integer.'),0))||(s[e]=g[e].defaultValue):"string"===g[e].type&&g[e].acceptedValues&&-1===g[e].acceptedValues.indexOf(s[e])&&(console.warn(h+' The value "'+s[e]+'" entered for the setting "'+e+'" was not recognised.'),s[e]=g[e].defaultValue)}),s.verticalTrigger){var o=String(s.verticalTrigger).match(/(\d*\.?\d*)(.*)/),c=o[1],d=o[2],m=!0;if(c||(console.warn(h+" No numercial value entered for the 'verticalTrigger' setting."),m=!1),"px"!==d&&"%"!==d&&(console.warn(h+" The setting 'verticalTrigger' must be a percentage or pixel value."),m=!1),"%"===d&&(100<c||c<0)?(console.warn(h+" The 'verticalTrigger' setting value must be between 0 and 100 if using a percentage value."),m=!1):"px"===d&&c<0&&(console.warn(h+" The 'verticalTrigger' setting value must be above 0 if using a pixel value."),m=!1),!1===m){var u=g.verticalTrigger.defaultValue;d=u.unit,c=u.value}s.verticalTrigger={unit:d,value:c}}s.moveItems>s.visibleItems&&(console.warn(h+' The value of "moveItems" ('+s.moveItems+') is larger than the number of "visibleItems" ('+s.visibleItems+'). The value of "visibleItems" has been used instead.'),s.moveItems=s.visibleItems),v.push({timelineEl:e,wrap:l,scroller:a,items:r,settings:s})}),r(),window.addEventListener("resize",function(){clearTimeout(i),i=setTimeout(function(){var e=window.innerWidth;e!==t&&(r(),t=e)},250)})}window.jQuery&&(window.jQuery.fn.timeline=function(e){return timeline(this,e),this});
//# sourceMappingURL=timeline.min.js.map
